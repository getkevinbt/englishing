import{_ as p,m,l as h,c as n,d as a,p as d,q as g,t as _,F as P,u as l,x as b,y as C,s as U,r as k,o}from"./index-Bx-6Qppa.js";import v from"./UnitsComponent-WB5ZBf-x.js";import y from"./UnitViewComponent-CpSGTF5z.js";import"./UnitButtonComponent-B-7UPn6p.js";const u=["#012220","#b57edc","#654321","#ffdb58","#b82929","#002395","#ffc0cb","#800020","#00ffff","#32cd32","#ffe5b4"],I={async beforeCreate(){try{const{data:{user:{publicID:e,...r},expiresAt:t,msg:s,token:c}}=await b.userProfile(await C());r.id=BigInt(e),this.setUser(r),s==="token renewed"&&U(c,t)}catch(e){console.error("Error fetching user profile:",e)}},components:{UnitsComponent:v,UnitViewComponent:y},computed:{hasProfilePic(){return!!(this.user&&this.user.profilePicUrl&&this.user.profilePicUrl.trim()!=="")},getColor(){return!this.user||!this.user.id?"#cccccc":u[Number(this.user.id%BigInt(u.length))]},invertColor(){if(!this.getColor)return"#000000";const e=this.getColor.replace("#","");let r=parseInt(e.substring(0,2),16),t=parseInt(e.substring(2,4),16),s=parseInt(e.substring(4,6),16);return r=255-r,t=255-t,s=255-s,"#"+((1<<24)+(r<<16)+(t<<8)+s).toString(16).slice(1).toUpperCase()},...h(l,["user"])},methods:{getInitial(){return this.user?this.user.name?this.user.name.charAt(0).toUpperCase():this.user.email?.charAt(0).toUpperCase():""},getProfilePicUrl(){return!this.user||!this.user.profilePicUrl?"":this.user.profilePicUrl},...m(l,["setUser"])},name:"HomeView"},w={class:"menu"},S={class:"profile_pic_container"},B=["src"],x={key:0,class:"loader_container"};function A(e,r,t,s,c,i){const f=k("router-view");return o(),n(P,null,[a("header",null,[r[0]||(r[0]=a("h1",null,"English Learning",-1)),a("div",w,[a("div",S,[i.hasProfilePic?(o(),n("img",{key:1,class:"profile_pic",src:i.getProfilePicUrl(),alt:"Profile Picture"},null,8,B)):(o(),n("p",{key:0,class:"image_alt",style:g({"--bg-color":i.getColor,"--fg-color":i.invertColor})},_(i.getInitial()),5))])])]),e.user?(o(),d(f,{key:1})):(o(),n("div",x,"Loading..."))],64)}const F=p(I,[["render",A],["__scopeId","data-v-94486b95"]]);export{F as default};
