import{_,c,b as g,d as e,w as i,v as p,t as r,e as m,f,g as l,h as w,i as v,s as u,o as h}from"./index-Bx-6Qppa.js";const b="/assets/google_icon-BNc63-Sz.webp",k="/assets/facebook_icon-2U62pPLh.png",y=/^[a-zA-Z0-9.]+@([a-zA-Z0-9-]+\.)+[a-zA-Z]{2,}$/,x=/^(?!.*(?:123|234|345|456|567|678|789|890|abc|bcd|cde|def|efg|fgh|ghi|hij|ijk|jkl|klm|lmn|mno|nop|opq|pqr|qrs|rst|stu|tuv|uvw|vwx|wxy|xyz))(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?])[A-Za-z\d!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]{8,}$/i,A={name:"LoginComponent",data(){return{email:"",error_msg:"Credenciales incorrectas!",keep_login:!1,password:"",showPass:!1,wrong_email_msg:"Inaceptable",wrong_email:null,wrong_password_msg:"Inaceptable",wrong_password:null}},methods:{async signIn(){try{const{data:{token:t,expiresAt:s}}=await v.login({email:this.email,password:this.password,keep_login:this.keep_login});u(t,s),this.$router.push({name:"home"})}catch(t){const{response:s}=t;(!s||!s.data||!s.data.msg)&&console.error(s),window.alert(Object.keys(t));const{data:{msg:n}}=s;n==="invalid password format"?(this.wrong_password_msg="Inaceptable",this.wrong_password=!0):n==="invalid email format"?(this.wrong_email_msg="Inaceptable",this.wrong_email=!0):n==="wrong credentials"&&(this.$refs.error_toast.classList.remove("show"),this.$refs.error_toast.offsetWidth,this.$refs.error_toast.classList.add("show"),this.$refs.error_toast.offsetWidth)}}},mounted(){document.querySelectorAll(".login_input").forEach((t,s)=>{t.addEventListener("focus",()=>{t.classList.remove("invalid","valid"),s==0?this.wrong_email=null:(this.wrong_password=null,this.password_focus=!0)}),t.addEventListener("blur",n=>{s==0?this.wrong_email=this.email.length===0?null:!y.test(this.email):(this.wrong_password=this.password.length===0?null:!x.test(this.password),this.password_focus=!1)})})}},C={class:"container"},L={class:"email_container"},I={class:"top_container"},z={class:"password_container"},E={class:"top_container"},S=["type"],P={class:"bottom_container"},M={class:"keep_login_btn",style:{display:"flex","align-items":"center",margin:"16px 0"}},q={class:"registration_container"},B={ref:"error_toast",class:"error_toast"},V={class:"error_msg"};function Z(t,s,n,j,o,d){return h(),c("form",C,[s[11]||(s[11]=g('<h1 class="login_title" data-v-a400f8e3>Inicio de sessi칩n</h1><h6 class="login_msg" data-v-a400f8e3>Bienvenido!<b data-v-a400f8e3>游녦游낕</b> Accede para empezar!</h6><div style="display:none;" class="media_login_container" data-v-a400f8e3><div class="google_btn btn" data-v-a400f8e3><img class="btn_icon" src="'+b+'" alt="Google Logo" data-v-a400f8e3><p class="btn_title" data-v-a400f8e3>Google</p></div><div class="facebook_btn btn" data-v-a400f8e3><img class="btn_icon" src="'+k+'" alt="Facebook Logo" data-v-a400f8e3><p class="btn_title" data-v-a400f8e3>Facebook</p></div></div><div style="display:none;" class="separator_container" data-v-a400f8e3><hr data-v-a400f8e3><p data-v-a400f8e3>or</p><hr data-v-a400f8e3></div>',4)),e("div",L,[e("div",I,[s[7]||(s[7]=e("h3",{class:"header"},"Correo electr칩nico",-1)),i(e("p",{class:"wrong_msg"},r(o.wrong_email_msg),513),[[p,o.wrong_email]])]),i(e("input",{required:"",class:"email_input login_input",id:"email",type:"email","onUpdate:modelValue":s[0]||(s[0]=a=>o.email=a)},null,512),[[m,o.email]])]),e("div",z,[e("div",E,[s[8]||(s[8]=e("h3",{class:"header"},"Contrase침a",-1)),i(e("p",{class:"wrong_msg"},r(o.wrong_password_msg),513),[[p,o.wrong_password]])]),i(e("input",{type:o.showPass?"text":"password",class:"email_input login_input",id:"password","onUpdate:modelValue":s[1]||(s[1]=a=>o.password=a)},null,8,S),[[f,o.password]]),e("div",P,[e("p",{onClick:s[2]||(s[2]=l(a=>t.$router.push({name:"forgot"}),["stop"])),class:"forgot_btn"}," Olvidaste la contrase침a? "),e("p",{onClick:s[3]||(s[3]=l(a=>o.showPass=!o.showPass,["stop"])),class:"display_pass"},r(o.showPass?"Ocultar":"Mostrar"),1)])]),e("div",M,[i(e("input",{type:"checkbox",id:"keep_login",style:{width:"18px",height:"18px",cursor:"pointer","accent-color":"#000"},"onUpdate:modelValue":s[4]||(s[4]=a=>o.keep_login=a)},null,512),[[w,o.keep_login]]),s[9]||(s[9]=e("label",{for:"keep_login",style:{"margin-left":"8px","font-size":"14px",cursor:"pointer","user-select":"none"}},"Recu칠rdame",-1))]),e("div",{onClick:s[5]||(s[5]=l((...a)=>d.signIn&&d.signIn(...a),["stop"])),class:"login_btn btn"},"Acceder"),e("div",q,[s[10]||(s[10]=e("p",{class:"registration_label"},"A칰n no tienes cuenta?",-1)),e("p",{onClick:s[6]||(s[6]=l(a=>t.$router.push({name:"sign_up"}),["stop"])),class:"resend_btn"}," Crea una ")]),e("div",B,[e("p",V,[e("b",null,r(o.error_msg),1)])],512)])}const G=_(A,[["render",Z],["__scopeId","data-v-a400f8e3"]]);export{G as default};
